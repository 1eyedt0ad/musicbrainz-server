The Developer's Guide to the MusicBrainz Server
===============================================

Testing
-------

We use standard Perl tools for unit testing. Tests are located in the t/
directory. The preferred way to run them is to use the `prove` program from
Test::Harness. For example, to run all tests use:

 $ prove -l t/

If you're using Carton, you should instead run:

 $ carton exec -Ilib -- prove t/
 
Or if you want to run only specific tests:

 $ carton exec -Ilib -- prove t/entity_artist.t
 $ carton exec -Ilib -- prove t/entity*.t

A few of the files in t/ aggregate all the tests in the t:: namespace.
For example if you want to run a controller test such as
t::MusicBrainz::Server::Controller::WS::2::LookupArtist you should use
t/controllers.t like this:

 $ carton exec -Ilib -- prove t/controllers.t :: --tests WS::2::LookupArtist

For t::MusicBrainz::Server::Edit:: tests use t/edits.t, and for the
remaining tests you can usually run t/tests.t.  You can specify multiple
tests as a comma-separated list:

 $ carton exec -Ilib -- prove t/tests.t :: --tests Data::URL,Entity::URL


JavaScript and Selenium tests
-----------------------------

To run the included interface tests (t/selenium.t) and QUnit tests
(t/qunit.t) please see the following document on our wiki:
http://wiki.musicbrainz.org/User:kuno/Testing


Cache
-----

Keys:

 * at:INT -- artist type by ID
 * ac:INT -- artist credit by ID
 * artist:INT -- artist by ID
 * artist:UUID -- artist ID by MBID (you need to do another lookup by ID)
 * g:INT -- gender by ID
 * c:INT -- country by ID
 * label:INT -- label by ID
 * label:UUID -- label by MBID (you need to do another lookup by ID)
 * lng:INT -- language by ID
 * lt:INT -- label type by ID
 * link:INT -- link by ID
 * linktype:INT -- link type by ID
 * linkattrtype:INT -- link attribute type by ID
 * mf:INT -- medium format by ID
 * rgt:INT -- release group type by ID
 * rs:INT -- release status by ID
 * rp:INT -- release packaging by ID
 * scr:INT -- script by ID
 * tag:INT -- tag by ID
 * wikidoc:TEXT-INT -- wikidocs by page title and revision
 * wikidoc-index -- wikidocs index page
 * wizard_session:INT:INT:<MIXED> -- release editor (wizard) 
   sessions by catalyst session ID, RE (random) session ID, and other specifics
 * wt:INT -- work type by ID

